(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",function(){return CodeEditor}),__webpack_require__.d(__webpack_exports__,"b",function(){return reduce});var _Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react_dom__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__),codemirror__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),codemirror__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_8__),codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47),codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_9__),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(48),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_10__),codemirror_keymap_sublime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(49),codemirror_keymap_sublime__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(codemirror_keymap_sublime__WEBPACK_IMPORTED_MODULE_11__),codemirror_addon_edit_closebrackets__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(51),codemirror_addon_edit_closebrackets__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(codemirror_addon_edit_closebrackets__WEBPACK_IMPORTED_MODULE_12__),codemirror_addon_edit_matchbrackets__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(19),codemirror_addon_edit_matchbrackets__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(codemirror_addon_edit_matchbrackets__WEBPACK_IMPORTED_MODULE_13__),codemirror_addon_comment_comment__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(52),codemirror_addon_comment_comment__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(codemirror_addon_comment_comment__WEBPACK_IMPORTED_MODULE_14__),_codemirror_css__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(53),_codemirror_css__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_codemirror_css__WEBPACK_IMPORTED_MODULE_15__),DiffMatchPatch=__webpack_require__(54),dmp=new DiffMatchPatch;global.dmp=dmp;var CodeEditor=function(_React$Component){function CodeEditor(){return Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,CodeEditor),Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(CodeEditor).apply(this,arguments))}return Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(CodeEditor,_React$Component),Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(CodeEditor,[{key:"componentDidMount",value:function componentDidMount(){var _this=this,el=react_dom__WEBPACK_IMPORTED_MODULE_7___default.a.findDOMNode(this).querySelector(".editor"),cm=codemirror__WEBPACK_IMPORTED_MODULE_8___default()(el,{value:this.props.state.data,mode:"plain",matchBrackets:!0,lineNumbers:!1,keyMap:"sublime",autoCloseBrackets:!0,lineWrapping:!0,undoDepth:0,viewportMargin:1/0,tabSize:4,indentUnit:4,indentWithTabs:!1,extraKeys:{"Cmd-Enter":function CmdEnter(cm){function log(e){var t=/<anonymous>:(\d+)/.exec((new Error).stack);if(t){var r=parseInt(t[1],10),n=document.createElement("span");n.className="result",n.innerText=JSON.stringify(e);var a=cm.setBookmark({line:r-1,ch:1e8},{widget:n,insertLeft:!0});a.__lineText=cm.getLine(r-1),a.__result=!0}}cm.getAllMarks().filter(function(e){return e.__result}).forEach(function(e){return e.clear()}),eval(cm.getValue())},"Cmd-Z":function(e){return requestAnimationFrame(function(e){return _this.props.undo()})},"Shift-Cmd-Z":function(e){return requestAnimationFrame(function(e){return _this.props.redo()})},"Cmd-K":function(e){return requestAnimationFrame(function(e){return _this.props.fork()})},"Cmd-S":function(e){return requestAnimationFrame(function(e){return _this.props.save()})},"Cmd-M":function(e){_this.props.setMessage()}}});this.cm=cm,cm.on("change",function(e,t){"setValue"!==t.origin&&e.getValue()!==_this.props.state.data&&_this.props.commit({text:e.getValue(),selections:e.listSelections().map(function(t){return[e.indexFromPos(t.anchor),e.indexFromPos(t.head)]})}),e.getAllMarks().filter(function(t){return t.__result&&t.__lineText.trim()!==e.getLine(t.find().line).trim()}).forEach(function(e){return e.clear()})}),this.updateDiff()}},{key:"focus",value:function(){this.cm.focus()}},{key:"updateDiff",value:function(){var e=this,t=this.cm;t.getAllMarks().filter(function(e){return e.__diff}).forEach(function(e){return e.clear()}),t.lineWidgets&&t.lineWidgets.forEach(function(e){return e.clear()}),t.lineWidgets=[],t.eachLine(function(e){t.removeLineClass(e,"background","line-inserted"),t.removeLineClass(e,"background","line-changed")});var r=this.props.compare&&this.props.compare.data;if("string"===typeof r){var n=dmp.diff_main(r,this.props.state.data);dmp.diff_cleanupSemantic(n);for(var a=0,_=0,i=function(){var i=Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(n[o],2),s=i[0],c=i[1];if(s<0){var l=document.createElement("span");l.className="deleted",l.innerText=c;var u=a;l.title="Delete ".concat(JSON.stringify(c)," from reference cell"),l.onclick=function(){console.log("delete!",c),e.props.compareCommit({text:r.slice(0,u)+r.slice(u+c.length)})},l.onmouseenter=function(){e.props.setMergePreview(r.slice(0,u)+r.slice(u+c.length))},l.onmouseleave=function(){e.props.setMergePreview(null)},t.setBookmark(t.posFromIndex(a),{widget:l}).__diff=!0,_+=c.length}else if(s>0){var d=document.createElement("span");d.className="inserted",d.innerText=c;var m=_;d.title="Insert ".concat(JSON.stringify(c)," into reference cell"),d.onclick=function(){console.log("insert!",c),e.props.compareCommit({text:r.slice(0,m)+c+r.slice(m)})},d.onmouseenter=function(){e.props.setMergePreview(r.slice(0,m)+c+r.slice(m))},d.onmouseleave=function(){e.props.setMergePreview(null)},t.markText(t.posFromIndex(a),t.posFromIndex(a+c.length),{replacedWith:d}).__diff=!0,a+=c.length}else a+=c.length,_+=c.length},o=0;o<n.length;o++)i()}}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.mergePreview){this.cm.setValue(this.props.mergePreview);var t=dmp.diff_main(this.props.state.data,this.props.mergePreview);dmp.diff_cleanupSemantic(t);for(var r=this.cm,n=0,a=0;a<t.length;a++){var _=Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(t[a],2),i=_[0],o=_[1];if(i<0){var s=document.createElement("span");s.className="deleted",s.innerText=o,r.setBookmark(r.posFromIndex(n),{widget:s}).__diff=!0}else if(i>0){var c=document.createElement("span");c.className="inserted",c.innerText=o,r.markText(r.posFromIndex(n),r.posFromIndex(n+o.length),{replacedWith:c}).__diff=!0,n+=o.length}else n+=o.length}}else{if(!this.cm.curOp&&this.props.state.data!==this.cm.getValue()){this.cm.setValue(this.props.state.data);try{this.cm.setSelections(this.props.state.selections.map(function(t){var r=Object(_Users_kevin_Github_derp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(t,2),n=r[0],a=r[1];return{anchor:e.cm.posFromIndex(n),head:e.cm.posFromIndex(a)}}))}catch(l){}}this.updateDiff()}}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"widget"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"editor"}))}}]),CodeEditor}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);function reduce(e,t){return e?{version:e.version+1,data:t.text,selections:t.selections||e.selections}:{version:0,data:"",selections:[]}}}).call(this,__webpack_require__(15))},2:function(e,t,r){"use strict";r.d(t,"b",function(){return _}),r.d(t,"e",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c});var n=null,a={};function _(e,t){if(e!==n)for(var r in n=e,a={},e){var _=e[r].parent;a[_]?a[_].push(r):a[_]=[r]}return a[t]||[]}function i(e,t,r){var n=t[r];return n?e(i(e,t,n.parent),n.delta):e(null,null)}function o(e,t){var r=e[t];return r?o(e,r.parent).concat([t]):[null]}function s(e,t){for(var r=_.bind(this,e),n=t,a=r(n);a.length>0;)a=r(n=a[0]);return n}function c(e,t,r,n){for(var a=_.bind(this,e),i=t,o=a(i);1===o.length&&i&&!n[i];)o=a(i=o[0]);return i}},20:function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n=r(5),a=r(6),_=r(8),i=r(7),o=r(9),s=r(4),c=r(0),l=r.n(c),u=r(1),d=r.n(u),m=r(21),p=r.n(m),f=r(22);r(45),r(46);function h(e){return e*e}function v(e,t){return h(e.x-t.x)+h(e.y-t.y)}function E(e,t,r){return Math.sqrt(function(e,t,r){var n=v(t,r);if(0===n)return v(e,t);var a=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return a=Math.max(0,Math.min(1,a)),v(e,{x:t.x+a*(r.x-t.x),y:t.y+a*(r.y-t.y)})}(e,t,r))}function g(){return Math.random().toString(36).slice(5,10)}var b=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(_.a)(this,Object(i.a)(t).call(this))).state={dragThing:null},e.mouseMove=e.mouseMove.bind(Object(s.a)(Object(s.a)(e))),e.mouseUp=e.mouseUp.bind(Object(s.a)(Object(s.a)(e))),e}return Object(o.a)(t,e),Object(a.a)(t,[{key:"beginDrag",value:function(e,t){this.setState({dragThing:e}),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp)}},{key:"mouseMove",value:function(e){this.state.dragThing&&e.preventDefault();for(var t,r=d.a.findDOMNode(this).querySelectorAll(".row"),n=[],a=0;a<r.length;a++){var _=r[a].getBoundingClientRect();0===a&&n.push({x0:_.left,x1:_.right,y0:_.top,y1:_.top,pos:"top-"+a}),n.push({x0:_.left,x1:_.right,y0:_.bottom,y1:_.bottom,pos:"bottom-"+a});for(var i=r[a].querySelectorAll(".slice"),o=0;o<i.length;o++){var s=i[o].getBoundingClientRect();0===o&&n.push({x0:s.left,x1:s.left,y0:s.top,y1:s.bottom,pos:"left-"+a+"-"+o}),n.push({x0:s.right,x1:s.right,y0:s.top,y1:s.bottom,pos:"right-"+a+"-"+o}),this.state.dragThing===a+"-"+o&&(t=s)}}n.forEach(function(t){t.dist=E({x:e.clientX,y:e.clientY},{x:t.x0,y:t.y0},{x:t.x1,y:t.y1})});var c=n.sort(function(e,t){return e.dist-t.dist})[0].pos,l=this.state.dragThing.split("-");e.clientX>t.left&&e.clientX<t.right&&e.clientY>t.top&&e.clientY<t.bottom&&(c=0===+l[1]?"left-"+l.join("-"):"right-"+[l[0],l[1]-1].join("-")),this.state.dockTarget!==a&&this.setState({dockTarget:c})}},{key:"cloneLayout",value:function(){return{rows:this.props.layout.rows.map(function(e){return{id:e.id,elements:e.elements.slice(0)}})}}},{key:"mouseUp",value:function(e){if(this.state.dockTarget){var t=this.state.dockTarget.split("-"),r=this.state.dragThing.split("-"),n=this.cloneLayout().rows;if("top"===t[0]||"bottom"===t[0])if(1===n[+r[0]].elements.length&&("top"===t[0]&&+r[0]===+t[1]||"bottom"===t[0]&&+r[0]===parseInt(t[1])+1||"bottom"===t[0]&&+r[0]===+t[1]));else{var a=n[+r[0]].elements.splice(+r[1],1)[0],_={id:g(),elements:[a]};"top"===t[0]?n.splice(+t[1],0,_):n.splice(1+parseInt(t[1]),0,_)}else if("left"===t[0]||"right"===t[0]){var i=n[+r[0]].elements.splice(+r[1],1,null)[0];"left"===t[0]?n[+t[1]].elements.splice(+t[2],0,i):n[+t[1]].elements.splice(1+parseInt(t[2]),0,i),n[+r[0]].elements=n[+r[0]].elements.filter(function(e){return null!==e})}n=n.filter(function(e){return e.elements.length>0}),this.props.updateLayout({rows:n})}this.setState({dragThing:null,dockTarget:null}),window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mouseup",this.mouseUp)}},{key:"render",value:function(){var e=this,t=this.props.Slice;return l.a.createElement("div",{className:"bread",style:{cursor:this.state.dragThing?"move":"default"}},l.a.createElement(f.a,null,this.props.layout.rows.map(function(r,n){return l.a.createElement("div",{className:"row "+(e.state.dockTarget==="top-"+n?"insert-top ":"")+(e.state.dockTarget==="bottom-"+n?"insert-bottom ":"")+"row-"+r.elements.length+" ",key:r.id},l.a.createElement(p.a,{transitionName:"example",transitionEnterTimeout:300,transitionLeaveTimeout:300},r.elements.map(function(r,a){return l.a.createElement("div",{className:"col "+(e.state.dockTarget==="left-"+n+"-"+a?"insert-left ":"")+(e.state.dockTarget==="right-"+n+"-"+a?"insert-right ":""),key:r.id},l.a.createElement(t,Object.assign({view:r,isDragging:e.state.dragThing===[n,a].join("-"),getView:function(t){var r;return e.props.layout.rows.forEach(function(e){return e.elements.forEach(function(e){e.id===t&&(r=e)})}),r},updateView:function(t,r){var n=e.props.layout.rows.map(function(e){return Object.assign(e,{elements:e.elements.map(function(e){return e.id===t?Object.assign({},e,r):e})})});e.props.updateLayout({rows:n})},fork:function(t){var _=e.cloneLayout().rows;_[n].elements.splice(a+1,0,Object.assign({},r,{id:g()},t||{})),e.props.updateLayout({rows:_})},update:function(t){var _=e.cloneLayout().rows;_[n].elements[a]=Object.assign({},r,t),e.props.updateLayout({rows:_})},close:function(t){var r=e.cloneLayout().rows;r[n].elements.splice(a,1),e.props.updateLayout({rows:r.filter(function(e){return e.elements.length>0})})},beginDrag:function(t){return e.beginDrag([n,a].join("-"),t)}},e.props)))})))}),l.a.createElement("div",{className:"fake-row row-1",onClick:function(t){return e.props.updateLayout({rows:e.props.layout.rows.concat([{id:g(),elements:[{id:g()}]}])})}},l.a.createElement("span",null,l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"fake-slice"},"+"))))))}}]),t}(l.a.Component)},23:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),a=r.n(n),_=r(2),i=document.createElementNS("http://www.w3.org/2000/svg","text"),o=document.createElementNS("http://www.w3.org/2000/svg","svg");function s(e){var t=e.store,r=e.view,n=e.messages,o=25,s=20,l=10,u=_.b.bind(this,t),d=Object(_.d)(t,r.anchor),m=[],p=[];var f=10+function t(_,f,h){for(var v,E=u(_),g=[_];1===E.length&&_&&!e.messages[_];)_=E[0],g.push(_),E=u(_);if(_){var b=10*Math.sqrt(g.length+1),w=n[_]||"";if(b=Math.max(b,5+((v=w).trim()?(i.textContent=v,i.getComputedTextLength()):0)),m.push(a.a.createElement("rect",{key:"r-"+_,x:f,y:h-s/2,rx:2,ry:2,width:b,height:s,className:g.includes(r.pointer)?"active":d.includes(_)?"mainline":"inactive",onClick:function(t){return e.setPointer(_,t.metaKey||t.altKey||t.shiftKey||t.ctrlKey)}})),g.includes(r.pointer)&&g.length>0){var O=g.indexOf(r.pointer);m.push(a.a.createElement("circle",{key:"c-"+_,cx:f+b*((O+.001)/(g.length-1+.001)),cy:h,r:3,className:"active"}))}m.push(a.a.createElement("text",{key:"t-"+_,x:2+f,y:h},w)),f+=b}for(var M=h,k=0;k<E.length;k++){var D=E[k];k>0&&(M+=o),_&&p.push(a.a.createElement("path",{key:"p-"+D,d:c(f,h,f+l,M),className:d.includes(D)?"mainline":"inactive"})),M=t(D,f+l,M)}return M}(null,-l,10);return a.a.createElement("svg",{className:"dag",height:f},p,m)}function c(e,t,r,n){var a=[],_=e+(r-e)/2;return a.push("M",e,t),a.push("C",_,t,_,n,r,n),a.join(" ")}o.setAttribute("class","measure"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),document.body.appendChild(o),o.appendChild(i)},24:function(e,t,r){e.exports=r(25)},25:function(e,t,r){"use strict";r.r(t),function(e){var t=r(14),n=r(5),a=r(6),_=r(8),i=r(7),o=r(9),s=r(0),c=r.n(s),l=r(1),u=r.n(l),d=(r(30),r(31),r(20)),m=r(11),p=r(23),f=r(2);function h(e){var t,r=e.view.pointer||null,n=e.view.anchor||null,a=Object(f.e)(m.b,e.store,r),_=Object(f.d)(e.store,n),i=_.indexOf(r),o=Object(f.c)(e.store,r,e.views,e.messages),s=function(t,r){var n=function(t){return r?e.fork(t):e.update(t)};_.includes(t)?n({pointer:t}):n({pointer:t,anchor:Object(f.a)(e.store,t)})},l=function(){return e.fork()};if(e.viewIndex){var u=e.getView(e.viewIndex);t=Object(f.e)(m.b,e.store,u&&u.pointer||null)}var d,h;return c.a.createElement("div",{className:"slice "+(e.isDragging?"dragging ":"")+(e.viewIndex?e.viewIndex===e.view.id?"reference ":"other ":"")},c.a.createElement("div",{className:"header",onMouseDown:e.beginDrag},c.a.createElement("div",{className:"button-toggle "+(e.view.hideFooter?"inactive":"active"),title:"Toggle revision timeline",onClick:function(t){return e.update({hideFooter:!e.view.hideFooter})}},e.view.hideFooter?"\u25bc":"\u25b2"),c.a.createElement("input",{type:"text",ref:function(e){return d=e},className:"title",value:e.messages[o]||"",placeholder:null===r?"blank":"no description",disabled:null===r,onChange:function(t){return e.setMessage(o,t.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),h.focus())}}),c.a.createElement("div",{className:"button "+(e.viewIndex===e.view.id?"active":"inactive"),onClick:function(t){return e.toggleFocus(e.view.id)},title:"Show differences relative to this version."},c.a.createElement("i",{className:"fa fa-bullseye","aria-hidden":"true"})),c.a.createElement("div",{className:"button",onClick:l,title:"Fork this revision"},c.a.createElement("i",{className:"fa fa-code-fork","aria-hidden":"true"})),c.a.createElement("div",{className:"button",onClick:e.close,title:"Close this window"},c.a.createElement("i",{className:"fa fa-close","aria-hidden":"true"}))),e.view.hideFooter?null:c.a.createElement("div",{className:"footer"},c.a.createElement("input",{type:"range",className:"time-slider",min:0,max:_.length-1,disabled:_.length<2,onChange:function(e){return s(_[e.target.value])},value:_.indexOf(r)}),c.a.createElement(p.a,{store:e.store,view:e.view,messages:e.messages,views:e.views,setPointer:s})),c.a.createElement(m.a,{ref:function(e){return h=e},setMessage:function(e){return d.focus()},undo:function(e){return i>0&&s(_[i-1])},redo:function(e){return i<_.length-1&&s(_[i+1])},fork:function(e){return l()},save:function(t){e.messages[e.view.pointer]||e.setMessage(e.view.pointer,"r"+i)},compareCommit:function(r){if(t){var n=e.getView(e.viewIndex);if(e.messages[n.pointer])"Merge"===e.messages[n.pointer]&&e.setMessage(n.pointer,void 0);else{var a=Object(f.d)(e.store,n.anchor).indexOf(n.pointer);e.setMessage(n.pointer,"r"+a)}var _="C"+Date.now();e.appendStore(_,{parent:n&&n.pointer||null,delta:r,date:Date.now()}),e.updateView(e.viewIndex,{pointer:_,anchor:_}),e.messages[_]||e.setMessage(_,"Merge"),e.setMergePreview(null)}},mergePreview:e.viewIndex===e.view.id?e.mergePreview:null,setMergePreview:e.setMergePreview,compare:t,state:a,commit:function(t){var n="C"+Date.now();e.appendStore(n,{parent:r,delta:t,date:Date.now()}),s(n)}}))}var v={store:{},viewIndex:null,messages:{null:""},layout:{rows:[]}},E=function(r){function s(){var e;Object(n.a)(this,s),e=Object(_.a)(this,Object(i.a)(s).call(this));try{e.state=JSON.parse(localStorage.state),console.log(e.state.layout.rows.length)}catch(t){e.state=JSON.parse(JSON.stringify(v))}return e}return Object(o.a)(s,r),Object(a.a)(s,[{key:"componentDidUpdate",value:function(){localStorage.state=JSON.stringify(this.state),document.body.classList.toggle("merge",!!this.state.viewIndex)}},{key:"render",value:function(){var r=this;return e.App=this,c.a.createElement("div",null,c.a.createElement("div",{className:"main-header"},c.a.createElement("h1",null,"derp version control prototype"),c.a.createElement("div",{className:"toolbar"},c.a.createElement("div",{className:"button",onClick:function(e){window.confirm("Are you sure you want to clear all history and start over? This can not be undone.")&&(localStorage.state=null,r.setState(JSON.parse(JSON.stringify(v))))},title:"Clear everything"},c.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))),c.a.createElement("div",{className:"main-header"},c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("b",null,"Derp")," is ",c.a.createElement("b",null,"version control")," reimagined for"," ",c.a.createElement("b",null,"experimentation")," and ",c.a.createElement("b",null,"live collaboration")," in the internet age."),c.a.createElement("p",null,"Rather than operating on files, it\u2019s integrated into an application's state management system. Coupled with a projectional window management system, you can create ",c.a.createElement("b",null,"lightweight forks")," to try new ideas while referencing other versions. Edits are synchronized character-by-character over the internet in ",c.a.createElement("b",null,"real-time"),". It blends the simplicity of ",c.a.createElement("b",null,"undo/redo")," with the power and reliability of modern distributed version control systems like Git. You never have to worry about losing data by a series of undos, redos, and edits. And you never have to worry about forgetting to commit code."))),c.a.createElement(d.a,{Slice:h,layout:this.state.layout,updateLayout:function(e){return r.setState({layout:e})},store:this.state.store,messages:this.state.messages,viewIndex:this.state.viewIndex,mergePreview:this.state.mergePreview,toggleFocus:function(e){return r.setState({viewIndex:r.state.viewIndex===e?null:e,mergePreview:null})},appendStore:function(e,n){return r.setState({store:Object.assign({},r.state.store,Object(t.a)({},e,n))})},setMergePreview:function(e){r.state.mergePreview!==e&&r.setState({mergePreview:e})},setMessage:function(e,n){return r.setState({messages:Object.assign({},r.state.messages,Object(t.a)({},e,n))})}}))}}]),s}(c.a.Component);u.a.render(c.a.createElement(E,null),document.getElementById("root"))}.call(this,r(15))},30:function(e,t,r){},31:function(e,t,r){},45:function(e,t,r){},53:function(e,t,r){}},[[24,1,2]]]);
//# sourceMappingURL=main.4be95278.chunk.js.map